$gapBetweenContent: 0.625rem;

.map-control-container {
  margin: 0;
  padding: 0;
  list-style: none;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  box-shadow: $box-shadow;
  // margin-left: $spacer * 3.5;
  // margin-left: 50px;

  li {
    & + li {
      position: relative;

      &:before {
        width: 50%;
        top: 0;
        content: "";
        position: absolute;
        left: 50%;
        height: 1px;
        transform: translateX(-50%);
      }
    }

    a {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      height: $controllerBtnSize - 0.75rem;
      width: $controllerBtnSize  - 0.75rem;
      background: transparent;
      @include transition;
    }

    &.active {
      a {
        background: rgba($primary, 0.2);
        color: $primary;
      }
    }
  }
}
// .map-geoprocessing {
//   margin: 0;
//   padding: 0;
//   list-style: none;
//   overflow: hidden;
//   display: flex;
//   flex-direction: row;
//   box-shadow: $box-shadow;
//   margin-left: $spacer * 3.5;

//   li {
//     & + li {
//       position: relative;

//       &:before {
//         width: 50%;
//         top: 0;
//         content: "";
//         position: absolute;
//         left: 50%;
//         height: 1px;
//         transform: translateX(-50%);
//       }
//     }

//     a {
//       display: flex;
//       align-items: center;
//       justify-content: center;
//       font-size: 1.5rem;
//       height: $controllerBtnSize;
//       width: $controllerBtnSize;
//       background: transparent;
//       @include transition;
//     }

//     &.active {
//       a {
//         background: rgba($primary, 0.2);
//         color: $primary;
//       }
//     }
//   }
// }

 app-drought-map{
  .leaflet-bottom{
    bottom: 132px;
  }
}

app-unsupervised-map{
  .leaflet-bottom{
    bottom: 132px;
  }
}

app-supervised-map{
  .leaflet-bottom{
    bottom: 132px;
  }
}

.left-custom-controlbar,
.right-custom-controlbar {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: absolute;
  top: $gapBetweenContent;
  bottom: $gapBetweenContent;
  z-index: 1030;
  gap: 0.5rem;

  .buttons-groups {
    display: flex;
    flex-direction: column;
    gap: $gapBetweenContent;
  }

  .btn-toggle {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    height: $controllerBtnSize  - 0.75rem;
    width: $controllerBtnSize  - 0.75rem;
    color: $gray-200;
    @include transition;
    border: none;
    box-shadow: $box-shadow;

    &:not(.text) {
      font-size: 1.25rem;
    }

    &.active {
      color: $white;
      background: darken($primary, 25);
    }
  }
  .btn-geoprocess {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.5rem;
    height: 2rem;
    width: 2rem;
    color: $gray-200;
    @include transition;
    border: none;
    box-shadow: $box-shadow;

    &:not(.text) {
      font-size: 1rem;
    }

    &.active {
      color: $white;
      background: darken($primary, 25);
    }
  }
}
.right-custom-controler {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: absolute;
  top: $gapBetweenContent;
 right: 0.625rem;
  z-index: 1030;
  gap: 0.5rem;

  .buttons-groups {
    display: flex;
    flex-direction: column;
    gap: $gapBetweenContent;
  }


  .btn-geoprocess {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.5rem;
    height: 2rem;
    width: 2rem;
    color: $gray-200;
    @include transition;
    border: none;
    box-shadow: $box-shadow;

    &:not(.text) {
      font-size: 1rem;
    }

    &.active {
      color: $white;
      background: darken($primary, 25);
    }
  }
}

.left-custom-controlbar {
  left: $gapBetweenContent;
  bottom: unset;
}

.right-custom-controlbar {
  right: $gapBetweenContent;
}

.toggle-custom-container {
  position: relative;

  .toggle-custom-content {
    position: absolute;
    @include transition;
    opacity: 0;
    visibility: hidden;
    box-shadow: $box-shadow;

    &.active {
      visibility: visible;
      opacity: 1;
    }

    &:not(.top-right) {
      &:not(.bottom-left) {
        top: 1rem;
        right: calc(100% + 0.5rem);

        &.active {
          top: 0;
        }
      }
    }

    &.top-right {
      bottom: 100%;
      right: 0px;

      &.active {
        bottom: calc(100% + 0.5rem);
      }
    }

    &.bottom-left {
      top: 100%;
      left: 0px;

      &.active {
        top: calc(100% + 0.5rem);
      }
    }
    .card-inner-content{
      max-height: 100vh;
      overflow-y: auto;
      // @media (max-width:1366px) {
      //   max-height: 100vh;
      // }
      @media (max-width:1024px) {
        // max-height: 65vh;
      }
      .form-group-container {
        margin: 0.5rem 0;
      }
    }
  }
}

.draw-tool-buttons {
  display: flex;
  align-items: center;
  gap: $spacer;
  margin-top: $spacer;
  .btn {
    flex: 1 1 auto;
    padding: $spacer * 0.5 $spacer;
    font-size: 1rem;
    border-radius: $border-radius-lg;
    border: none;
    width: 40px;
    height: 40px;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
    &.btn-text {
      font-size: 1rem;
    }
  }
}

.aoi-list-items {
  // max-height: 40vh;
  // overflow-y: auto;
  padding: 0.5rem 1rem;
  border-radius: $border-radius-lg;
  margin-top: $spacer;
  .item {
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    padding: 0.5rem 0;
    .form-check {
      flex: 1 1 auto;
      .form-check-label {
        max-width: 140px;
      }
    }
    .form-check-label {
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
      flex: 1 1 auto;
    }
    .buttons {
      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      gap: 0.25rem;
      .btn {
        padding: 0 0.125rem;
        border: none;
      }
    }
  }
}

.upload-aoi {
  padding: 1rem;
  border-radius: $border-radius-lg;
  border: 2px dashed transparent;
  margin-top: $spacer;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;

  input {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
    z-index: 6;
    cursor: pointer;
  }
  .icon {
    $iconSize: 4rem;
    width: $iconSize;
    height: $iconSize;
    border-radius: $iconSize * 0.5;
    font-size: $iconSize * 0.5;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  p {
    font-size: 0.875rem;
    margin: 0;
    opacity: 0.5;
  }
}

// Dark Theme
[data-bs-theme="dark"] {
  .map-control-container {
    @include bfilterDark;

    li {
      & + li {
        &:before {
          background: rgba($dark, 0.1);
        }
      }

      a {
        color: $gray-200;
      }

      &:not(.active) {
        a {
          &:hover {
            @include dhoverDark($white, 0.1);
          }
        }
      }
    }
  }
  .left-custom-controlbar,
  .right-custom-controlbar {
    .btn-toggle {
      &:not(.active) {
        color: $gray-200;
        @include bfilterDark;
        &:hover {
          @include dhoverLight(lighten($gray-600, 10), 0.9);
          color: $light;
        }
      }
    }
    .btn-geoprocess {

      &:not(.active) {
        color: $gray-200;
        @include bfilterDark;
        &:hover {
          @include dhoverLight(lighten($gray-600, 10), 0.9);
          color: $light;
        }
      }
    }
  }
  .right-custom-controler {
    .btn-toggle {
      &:not(.active) {
        color: $gray-200;
        @include bfilterDark;
        &:hover {
          @include dhoverLight(lighten($gray-600, 10), 0.9);
          color: $light;
        }
      }
    }
    .btn-geoprocess {

      &:not(.active) {
        color: $gray-200;
        @include bfilterDark;
        &:hover {
          @include dhoverLight(lighten($gray-600, 10), 0.9);
          color: $light;
        }
      }
    }
  }

  .toggle-custom-container {
    .toggle-custom-content {
      @include bfilterDark();
    }
  }

  .draw-tool-buttons {
    .btn {
      background: $gray-500;
      &:not(.active) {
        &:hover {
          background: lighten($gray-500, 10);
        }
      }
      &.active {
        color: $white;
        background: darken($primary, 25);
      }
    }
  }

  .aoi-list-items {
    background: $gray-700;
  }
  .upload-aoi {
    border-color: $gray-400;
    .icon {
      background: $gray-700;
      color: $gray-200;
    }
  }
}

// Light Theme
[data-bs-theme="light"] {
  .map-control-container {
    @include bfilterLight;

    li {
      & + li {
        &:before {
          background: rgba($white, 0.1);
        }
      }

      a {
        color: $gray-200;
      }

      &:not(.active) {
        a {
          color: rgba($dark, 0.8);
          &:hover {
            @include dhoverLight($dark, 0.1);
          }
        }
      }
    }
  }
  .left-custom-controlbar,
  .right-custom-controlbar {
    .btn-toggle {
      &:not(.active) {
        color: $gray-600;
        @include bfilterLight;
        &:hover {
          @include dhoverLight(lighten($gray-200, 10), 0.9);
          color: $dark;
        }
      }
    }
    .btn-geoprocess {
      &:not(.active) {
        color: $gray-600;
        @include bfilterLight;
        &:hover {
          @include dhoverLight(lighten($gray-200, 10), 0.9);
          color: $dark;
        }
      }
    }
  }

  .toggle-custom-container {
    .toggle-custom-content {
      @include bfilterLight;
    }
  }

  .draw-tool-buttons {
    .btn {
      background: $gray-100;
      &:not(.active) {
        &:hover {
          background: $gray-150;
        }
      }
      &.active {
        color: $white;
        background: $primary;
      }
    }
  }

  .aoi-list-items {
    background: $gray-00;
  }
  .upload-aoi {
    border-color: $gray-100;
    .icon {
      background: $gray-100;
      color: $gray-300;
    }
  }
}
